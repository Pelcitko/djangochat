{"version":3,"sources":["store/utility.js","settings.js","store/reducers/auth.js","store/actions/actionTypes.js","store/reducers/nav.js","store/reducers/message.js","hoc/hoc.js","websocket.js","containers/Chat.js","routes.js","store/actions/auth.js","store/actions/message.js","components/Contact.js","containers/Sidepanel.js","store/actions/nav.js","containers/Profile.js","containers/Form.js","containers/Popup.js","App.js","index.js"],"names":["updateObject","oldObject","updatedProperties","Object","objectSpread","HOST_URL","initialState","token","username","error","loading","reducer","state","arguments","length","undefined","action","console","log","type","authStart","authSuccess","authFail","authLogout","showAddChatPopup","openAddChatPopup","closeAddChatPopup","messages","chats","concat","toConsumableArray","message","addMessage","reverse","setMessages","setChats","Hoc","props","children","WebSocketService","classCallCheck","this","callbacks","socketRef","instance","chatUrl","_this","path","WebSocket","onopen","onmessage","e","data","socketNewMessage","onerror","onclose","connect","close","parsedData","JSON","parse","command","keys","chatId","sendMessage","from","content","messagesCallback","newMessageCallback","send","stringify","err","readyState","WebSocketInstance","getInstance","Chat","possibleConstructorReturn","getPrototypeOf","call","messageChangeHandler","event","setState","target","value","sendMessageHandler","preventDefault","messageObject","match","params","chatID","newChatMessage","renderTimestamp","timestamp","mess_time","Date","timeDiff","Math","round","getTime","moment","format","renderMessages","currentUser","map","i","arr","react_default","a","createElement","key","id","style","marginBottom","className","author","src","alt","scrollToBottom","messagesEnd","scrollIntoView","behavior","initialiseChat","_this2","waitForSocketConnection","fetchMessages","callback","component","setTimeout","newProps","_this3","disconnect","_this4","hoc","float","clear","ref","el","onSubmit","onChange","required","placeholder","aria-hidden","React","Component","auth","BaseRouter","Route","exact","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","getUserChats","axios","defaults","xsrfHeaderName","xsrfCookieName","headers","Content-Type","Authorization","get","then","res","Contact","NavLink","to","chatURL","color","picURL","name","antIcon","icon","fontSize","spin","Sidepanel","loginForm","changeForm","authenticate","login","password","signup","email","password2","waitForAuthDetails","addChat","activeChats","c","components_Contact","participants","splice","status","indicator","isAuthenticated","onClick","method","htmlFor","userName","post","expirationDate","setItem","catch","actions","password1","messageActions","Profile","Redirect","FormItem","Form","Item","HorizontalAddChatForm","usernames","handleChange","handleSubmit","form","validateFields","values","combined","history","push","fieldsError","_this$props$form","getFieldDecorator","getFieldsError","getFieldError","userNameError","isFieldTouched","es_form","layout","validateStatus","help","rules","es_select","mode","width","es_button","htmlType","disabled","some","field","AddChatForm","create","withRouter","AddChatModal","modal","centered","footer","visible","isVisible","onCancel","App","addCallbacks","bind","assertThisInitialized","onTryAutoSignup","BrowserRouter","containers_Sidepanel","Popup","containers_Profile","routes","nav","authenticated","getItem","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","rootReducer","combineReducers","authReducer","navReducer","messageReducer","createStore","applyMiddleware","thunk","configureStore","app","es","src_App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.886e17a6.chunk.js","sourcesContent":["export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties\n  };\n};\n","let DEBUG = true;\r\n// let HOST_URL = \"http://djangochat-4280.rostiapp.cz\";\r\n// let SOCKET_URL = \"ws://djangochat-4280.rostiapp.cz\";\r\nlet HOST_URL = \"https://cryptic-plains-09325.herokuapp.com\";\r\nlet SOCKET_URL = \"wss://cryptic-plains-09325.herokuapp.com\";\r\n// if (DEBUG) {\r\n//   // HOST_URL = \"http://localhost:8000\";\r\n//   // SOCKET_URL = \"ws://localhost:8000\";\r\n//   HOST_URL = \"http://147.230.155.90:8000\"; // TUL síť\r\n//   SOCKET_URL = \"ws://147.230.155.90:8000\"; // TUL síť\r\n// }\r\n\r\nexport { HOST_URL, SOCKET_URL, DEBUG };\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\nimport {DEBUG} from \"../../settings\";\r\n\r\nconst initialState = {\r\n  token: null,\r\n  username: null,\r\n  error: null,\r\n  loading: false\r\n};\r\n\r\nconst authStart = (state, action) => {\r\n  return updateObject(state, {\r\n    error: null,\r\n    loading: true\r\n  });\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    token: action.token,\r\n    username: action.username,\r\n    error: null,\r\n    loading: false\r\n  });\r\n};\r\n\r\nconst authFail = (state, action) => {\r\n  return updateObject(state, {\r\n    error: action.error,\r\n    loading: false\r\n  });\r\n};\r\n\r\nconst authLogout = (state, action) => {\r\n  return updateObject(state, {\r\n    token: null,\r\n    username: null\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  if (DEBUG) {console.log('reducer:', state, action);}\r\n  switch (action.type) {\r\n    case actionTypes.AUTH_START:\r\n      return authStart(state, action);\r\n    case actionTypes.AUTH_SUCCESS:\r\n      return authSuccess(state, action);\r\n    case actionTypes.AUTH_FAIL:\r\n      return authFail(state, action);\r\n    case actionTypes.AUTH_LOGOUT:\r\n      return authLogout(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\nexport const OPEN_ADD_CHAT_POPUP = \"OPEN_ADD_CHAT_POPUP\";\nexport const CLOSE_ADD_CHAT_POPUP = \"CLOSE_ADD_CHAT_POPUP\";\nexport const ADD_MESSAGE = \"ADD_MESSAGE\";\nexport const SET_MESSAGES = \"SET_MESSAGES\";\nexport const GET_CHATS_SUCCESS = \"GET_CHATS_SUCCESS\";\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  showAddChatPopup: false\n};\n\nconst openAddChatPopup = (state, action) => {\n  return updateObject(state, { showAddChatPopup: true });\n};\n\nconst closeAddChatPopup = (state, action) => {\n  return updateObject(state, { showAddChatPopup: false });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.OPEN_ADD_CHAT_POPUP:\n      return openAddChatPopup(state, action);\n    case actionTypes.CLOSE_ADD_CHAT_POPUP:\n      return closeAddChatPopup(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\nimport { DEBUG } from \"../../settings\";\r\n\r\nconst initialState = {\r\n  messages: [],\r\n  chats: []\r\n};\r\n\r\nconst addMessage = (state, action) => {\r\n  return updateObject(state, {\r\n    messages: [...state.messages, action.message]\r\n  });\r\n};\r\n\r\nconst setMessages = (state, action) => {\r\n  return updateObject(state, {\r\n    messages: action.messages.reverse()\r\n  });\r\n};\r\n\r\nconst setChats = (state, action) => {\r\n  return updateObject(state, {\r\n    chats: action.chats\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  if (DEBUG) {console.log('reducer:', state, action);}\r\n  switch (action.type) {\r\n    case actionTypes.ADD_MESSAGE:\r\n      return addMessage(state, action);\r\n    case actionTypes.SET_MESSAGES:\r\n      return setMessages(state, action);\r\n    case actionTypes.GET_CHATS_SUCCESS:\r\n      return setChats(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","const Hoc = props => props.children;\n\nexport default Hoc;\n","import { SOCKET_URL, DEBUG } from \"./settings\";\n\nclass WebSocketService {\n  static instance = null;\n  callbacks = {};\n\n  static getInstance() {\n    if (!WebSocketService.instance) {\n      WebSocketService.instance = new WebSocketService();\n    }\n    return WebSocketService.instance;\n  }\n\n  constructor() {\n    this.socketRef = null;\n  }\n\n  connect(chatUrl) {\n    const path = `${SOCKET_URL}/ws/chat/${chatUrl}/`;\n    this.socketRef = new WebSocket(path);\n    this.socketRef.onopen = () => {\n      DEBUG && console.log(\"WebSocket open\");\n    };\n    this.socketRef.onmessage = e => {\n      DEBUG && console.log(e.data);\n      this.socketNewMessage(e.data);\n    };\n    this.socketRef.onerror = e => {\n      DEBUG && console.log(e.message);\n    };\n    this.socketRef.onclose = () => {\n      DEBUG && console.log(\"WebSocket closed let's reopen\");\n      this.connect();\n    };\n  }\n\n  disconnect() {\n    this.socketRef.close();\n  }\n\n  socketNewMessage(data) {\n    const parsedData = JSON.parse(data);\n    const command = parsedData.command;\n    if (Object.keys(this.callbacks).length === 0) {\n      return;\n    }\n    if (command === \"messages\") {\n      this.callbacks[command](parsedData.messages);\n    }\n    if (command === \"new_message\") {\n      this.callbacks[command](parsedData.message);\n    }\n  }\n\n  fetchMessages(username, chatId) {\n    this.sendMessage({\n      command: \"fetch_messages\",\n      username: username,\n      chatId: chatId\n    });\n  }\n\n  newChatMessage(message) {\n    this.sendMessage({\n      command: \"new_message\",\n      from: message.from,\n      message: message.content,\n      chatId: message.chatId\n    });\n  }\n\n  addCallbacks(messagesCallback, newMessageCallback) {\n    this.callbacks[\"messages\"] = messagesCallback;\n    this.callbacks[\"new_message\"] = newMessageCallback;\n  }\n\n  sendMessage(data) {\n    try {\n      this.socketRef.send(JSON.stringify({ ...data }));\n    } catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  state() {\n    return this.socketRef.readyState;\n  }\n}\n\nconst WebSocketInstance = WebSocketService.getInstance();\n\nexport default WebSocketInstance;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport WebSocketInstance from \"../websocket\";\r\nimport * as moment from 'moment'\r\nimport Hoc from \"../hoc/hoc\";\r\n\r\nclass Chat extends React.Component {\r\n  state = { message: \"\" };\r\n\r\n  initialiseChat() {\r\n    this.waitForSocketConnection(() => {\r\n      WebSocketInstance.fetchMessages(\r\n        this.props.username,\r\n        this.props.match.params.chatID\r\n      );\r\n    });\r\n    WebSocketInstance.connect(this.props.match.params.chatID);\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialiseChat();\r\n  }\r\n\r\n  waitForSocketConnection(callback) {\r\n    const component = this;\r\n    setTimeout(function() {\r\n      if (WebSocketInstance.state() === 1) {\r\n        console.log(\"Connection is made\");\r\n        callback();\r\n        // return;\r\n      } else {\r\n        console.log(\"wait for connection...\");\r\n        component.waitForSocketConnection(callback);\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  messageChangeHandler = event => {\r\n    this.setState({ message: event.target.value });\r\n  };\r\n\r\n  sendMessageHandler = e => {\r\n    e.preventDefault();\r\n    const messageObject = {\r\n      from: this.props.username,\r\n      content: this.state.message,\r\n      chatId: this.props.match.params.chatID\r\n    };\r\n    WebSocketInstance.newChatMessage(messageObject);\r\n    this.setState({ message: \"\" });\r\n  };\r\n\r\n  renderTimestamp = timestamp => {\r\n    let prefix = \"\";\r\n    let mess_time = new Date(timestamp)\r\n    const timeDiff = Math.round(\r\n      (new Date().getTime() - mess_time.getTime()) / 60000\r\n    );\r\n    if (timeDiff < 1) {\r\n      // less than one minute ago\r\n      prefix = \"just now...\";\r\n    } else if (timeDiff < 60 && timeDiff > 1) {\r\n      // less than sixty minutes ago\r\n      prefix = `${timeDiff} minutes ago`;\r\n    } else if (timeDiff < 24 * 60 && timeDiff > 60) {\r\n      // less than 24 hours ago\r\n      prefix = `${Math.round(timeDiff / 60)} hours ago`;\r\n    } else if (timeDiff < 31 * 24 * 60 && timeDiff > 24 * 60) {\r\n      // less than 7 days ago\r\n      prefix = `${Math.round(timeDiff / (60 * 24))} days ago`;\r\n    } else {\r\n      prefix = `${moment(mess_time).format('LLLL')}`;\r\n    }\r\n    return prefix;\r\n  };\r\n\r\n  renderMessages = messages => {\r\n    const currentUser = this.props.username;\r\n    return messages.map((message, i, arr) => (\r\n      <li\r\n        key={message.id}\r\n        style={{ marginBottom: arr.length - 1 === i ? \"300px\" : \"15px\" }}\r\n        className={message.author === currentUser ? \"sent\" : \"replies\"}\r\n      >\r\n        <img\r\n          // src=\"http://emilcarlsson.se/assets/mikeross.png|\r\n          src={`https://loremflickr.com/320/320/dog,cat?random=${message.author}`}\r\n          alt=\"profile-pic\"\r\n        />\r\n        <p>\r\n          {message.content}\r\n          <br />\r\n          <small>{this.renderTimestamp(message.timestamp)}</small>\r\n        </p>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  scrollToBottom = () => {\r\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    if (this.props.match.params.chatID !== newProps.match.params.chatID) {\r\n      WebSocketInstance.disconnect();\r\n      this.waitForSocketConnection(() => {\r\n        WebSocketInstance.fetchMessages(\r\n          this.props.username,\r\n          newProps.match.params.chatID\r\n        );\r\n      });\r\n      WebSocketInstance.connect(newProps.match.params.chatID);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Hoc>\r\n        <div className=\"messages\">\r\n          <ul id=\"chat-log\">\r\n            {this.props.messages && this.renderMessages(this.props.messages)}\r\n            <div\r\n              style={{ float: \"left\", clear: \"both\" }}\r\n              ref={el => {\r\n                this.messagesEnd = el;\r\n              }}\r\n            />\r\n          </ul>\r\n        </div>\r\n        <div className=\"message-input\">\r\n          <form onSubmit={this.sendMessageHandler}>\r\n            <div className=\"wrap\">\r\n              <input\r\n                onChange={this.messageChangeHandler}\r\n                value={this.state.message}\r\n                required\r\n                id=\"chat-message-input\"\r\n                type=\"text\"\r\n                placeholder=\"Napište zprávu...\"\r\n              />\r\n              {/*<i className=\"fa fa-paperclip attachment\" aria-hidden=\"true\" />*/}\r\n              <button id=\"chat-message-submit\" className=\"submit\">\r\n                <i className=\"fa fa-paper-plane\" aria-hidden=\"true\" />\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Hoc>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    username: state.auth.username,\r\n    messages: state.message.messages\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Chat);\r\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Hoc from \"./hoc/hoc\";\n\nimport Chat from \"./containers/Chat\";\n\nconst BaseRouter = () => (\n  <Hoc>\n    <Route exact path=\"/:chatID/\" component={Chat} />\n  </Hoc>\n);\n\nexport default BaseRouter;\n","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\n// import { HOST_URL } from \"../settings\";\nimport { HOST_URL, DEBUG } from \"../../settings\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\n\nexport const authSuccess = (username, token) => {\n  DEBUG && console.log(\"user logged in...\");\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token,\n    username: username\n  };\n};\n\nexport const authFail = error => {\n  DEBUG && console.log(error);\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"username\");\n  localStorage.removeItem(\"expirationDate\");\n  return {\n    type: actionTypes.AUTH_LOGOUT\n  };\n};\n\nexport const checkAuthTimeout = expirationTime => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(logout());\n    }, expirationTime * 1000);\n  };\n};\n\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(`${HOST_URL}/rest-auth/login/`, {\n        username: username,\n        password: password\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"username\", username);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(username, token));\n        dispatch(checkAuthTimeout(3600));\n      })\n      .catch(err => {\n        DEBUG && console.log(err);\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authSignup = (username, email, password1, password2) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(`${HOST_URL}/rest-auth/registration/`, {\n        username: username,\n        email: email,\n        password1: password1,\n        password2: password2\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"username\", username);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(username, token));\n        dispatch(checkAuthTimeout(3600));\n      })\n      .catch(err => {\n        DEBUG && console.log(err);\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem(\"token\");\n    const username = localStorage.getItem(\"username\");\n    if (token === undefined) {\n      dispatch(logout());\n    } else {\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\n      if (expirationDate <= new Date()) {\n        dispatch(logout());\n      } else {\n        dispatch(authSuccess(username, token));\n        dispatch(\n          checkAuthTimeout(\n            (expirationDate.getTime() - new Date().getTime()) / 1000\n          )\n        );\n      }\n    }\n  };\n};\n","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nimport { HOST_URL, DEBUG } from \"../../settings\";\n\nexport const addMessage = message => {\n  if (DEBUG) {console.log(message)}\n  return {\n    type: actionTypes.ADD_MESSAGE,\n    message: message\n  };\n};\n\nexport const setMessages = messages => {\n  if (DEBUG) {console.log(messages)}\n  return {\n    type: actionTypes.SET_MESSAGES,\n    messages: messages\n  };\n};\n\nconst getUserChatsSuccess = chats => {\n  if (DEBUG) {console.log(chats)}\n  return {\n    type: actionTypes.GET_CHATS_SUCCESS,\n    chats: chats\n  };\n};\n\nexport const getUserChats = (username, token) => {\n  return dispatch => {\n    axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n    axios.defaults.xsrfCookieName = \"csrftoken\";\n    axios.defaults.headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`\n    };\n    axios\n      .get(`${HOST_URL}/chat/?username=${username}`)\n      .then(res => dispatch(getUserChatsSuccess(res.data)));\n  };\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Contact = props => (\n  <NavLink to={`${props.chatURL}`} style={{ color: \"#fff\" }}>\n    <li className=\"contact\">\n      <div className=\"wrap\">\n        <span className=\"contact-status active\" />\n        <img src={props.picURL} alt={`profile of ${props.name}`} />\n        <div className=\"meta\">\n          <p className=\"name\">{props.name}</p>\n           <p className=\"preview\">{props.messages}</p>\n        </div>\n      </div>\n    </li>\n  </NavLink>\n);\n\nexport default Contact;\n","import React from \"react\";\r\nimport { Spin, Icon } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../store/actions/auth\";\r\nimport * as navActions from \"../store/actions/nav\";\r\nimport * as messageActions from \"../store/actions/message\";\r\nimport Contact from \"../components/Contact\";\r\nimport { HOST_URL, DEBUG } from \"../settings\";\r\n\r\nconst antIcon = <Icon type=\"loading\" style={{ fontSize: 24 }} spin />;\r\n\r\nclass Sidepanel extends React.Component {\r\n  state = {\r\n    loginForm: true\r\n  };\r\n\r\n  waitForAuthDetails() {\r\n    const component = this;\r\n    setTimeout(function() {\r\n      if (\r\n        component.props.token !== null &&\r\n        component.props.token !== undefined\r\n      ) {\r\n        component.props.getUserChats(\r\n          component.props.username,\r\n          component.props.token\r\n        );\r\n        // return;\r\n      } else {\r\n        DEBUG && console.log(\"waiting for authentication details...\");\r\n        component.waitForAuthDetails();\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.waitForAuthDetails();\r\n  }\r\n\r\n  openAddChatPopup() {\r\n    this.props.addChat();\r\n  }\r\n\r\n  changeForm = () => {\r\n    this.setState({ loginForm: !this.state.loginForm });\r\n  };\r\n\r\n  authenticate = e => {\r\n    e.preventDefault();\r\n    if (this.state.loginForm) {\r\n      this.props.login(e.target.username.value, e.target.password.value);\r\n    } else {\r\n      this.props.signup(\r\n        e.target.username.value,\r\n        e.target.email.value,\r\n        e.target.password.value,\r\n        e.target.password2.value\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let activeChats = this.props.chats.map(c => {\r\n      return (\r\n        <Contact\r\n          key={c.id}\r\n          name={`${c.participants.splice(0,1)}`}\r\n          picURL={`https://loremflickr.com/320/320/dog,cat?random=${c.id}`}\r\n          // status={c.status}\r\n          status=\"busy\"\r\n          chatURL={`/${c.id}`}\r\n          messages={`${c.messages[0]}`}\r\n        />\r\n      );\r\n    });\r\n    return (\r\n      <div id=\"sidepanel\">\r\n        <div id=\"profile\">\r\n          <div className=\"wrap\">\r\n            <img\r\n              id=\"profile-img\"\r\n              src={`https://loremflickr.com/320/320/dog,cat?random=${this.props.username}`}\r\n              className=\"online\"\r\n              alt=\"User avatar\"\r\n              loading=\"lazy\"\r\n            />\r\n            <p>Account</p>\r\n            <i\r\n              className=\"fa fa-chevron-down expand-button\"\r\n              aria-hidden=\"true\"\r\n            />\r\n            <div id=\"status-options\">\r\n              <ul>\r\n                <li id=\"status-online\" className=\"active\">\r\n                  <span className=\"status-circle\" /> <p>Online</p>\r\n                </li>\r\n                <li id=\"status-away\">\r\n                  <span className=\"status-circle\" /> <p>Away</p>\r\n                </li>\r\n                <li id=\"status-busy\">\r\n                  <span className=\"status-circle\" /> <p>Busy</p>\r\n                </li>\r\n                <li id=\"status-offline\">\r\n                  <span className=\"status-circle\" /> <p>Offline</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div id=\"expanded\">\r\n              {this.props.loading ? (\r\n                <Spin indicator={antIcon} />\r\n              ) : this.props.isAuthenticated ? (\r\n                <button onClick={() => this.props.logout()} className=\"authBtn\">\r\n                  <span>Odahlásit</span>\r\n                </button>\r\n              ) : (\r\n                <div>\r\n                  <form method=\"POST\" onSubmit={this.authenticate}>\r\n                    {this.state.loginForm ? (\r\n                      <div>\r\n                        <input\r\n                          name=\"username\"\r\n                          type=\"text\"\r\n                          placeholder=\"username\"\r\n                        />\r\n                        <input\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"password\"\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                        <input\r\n                          name=\"username\"\r\n                          type=\"text\"\r\n                          placeholder=\"username\"\r\n                        />\r\n                        <input name=\"email\" type=\"email\" placeholder=\"email\" />\r\n                        <input\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"password\"\r\n                        />\r\n                        <input\r\n                          name=\"password2\"\r\n                          type=\"password\"\r\n                          placeholder=\"password confirm\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n\r\n                    <button type=\"submit\">authenticate</button>\r\n                  </form>\r\n\r\n                  <button onClick={this.changeForm}>switch</button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id=\"search\">\r\n          <label htmlFor=\"\">\r\n            <i className=\"fa fa-search\" aria-hidden=\"true\" />\r\n          </label>\r\n          <input type=\"text\" placeholder=\"Search Chats...\" />\r\n        </div>\r\n        <div id=\"contacts\">\r\n          <ul>{activeChats}</ul>\r\n        </div>\r\n        <div id=\"bottom-bar\">\r\n          <button id=\"addChat\" onClick={() => this.openAddChatPopup()}>\r\n            <i className=\"fa fa-user-plus fa-fw\" aria-hidden=\"true\" />\r\n            <span>New connection</span>\r\n          </button>\r\n          <button id=\"settings\">\r\n            <i className=\"fa fa-cog fa-fw\" aria-hidden=\"true\" />\r\n            <span>Settings</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null,\r\n    loading: state.auth.loading,\r\n    token: state.auth.token,\r\n    username: state.auth.username,\r\n    // userId: state.auth.id,\r\n    chats: state.message.chats\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    login: (userName, password) =>\r\n        dispatch(actions.authLogin(userName, password)),\r\n    logout: () =>\r\n        dispatch(actions.logout()),\r\n    signup: (username, email, password1, password2) =>\r\n        dispatch(actions.authSignup(username, email, password1, password2)),\r\n    addChat: () =>\r\n        dispatch(navActions.openAddChatPopup()),\r\n    getUserChats: (username, token) =>\r\n        dispatch(messageActions.getUserChats(username, token))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Sidepanel);\r\n","import * as actionTypes from \"./actionTypes\";\n\nexport const openAddChatPopup = () => {\n  return {\n    type: actionTypes.OPEN_ADD_CHAT_POPUP\n  };\n};\n\nexport const closeAddChatPopup = () => {\n  return {\n    type: actionTypes.CLOSE_ADD_CHAT_POPUP\n  };\n};\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Hoc from \"../hoc/hoc\";\r\n\r\nclass Profile extends React.Component {\r\n  render() {\r\n    if (this.props.token === null) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    return (\r\n      <div className=\"contact-profile\">\r\n        {this.props.username !== null ? (\r\n          <Hoc>\r\n            {/*<img src=\"http://emilcarlsson.se/assets/harveyspecter.png\" alt=\"\" />*/}\r\n            <img src={`https://loremflickr.com/320/320/dog,cat?random=${this.props.username}`} alt={`Avatar of ${this.props.username}`} />\r\n            <p>{this.props.username}</p>\r\n            <div className=\"social-media\">\r\n              <i className=\"fa fa-facebook\" aria-hidden=\"true\" />\r\n              <i className=\"fa fa-twitter\" aria-hidden=\"true\" />\r\n              <i className=\"fa fa-instagram\" aria-hidden=\"true\" />\r\n            </div>\r\n          </Hoc>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    username: state.auth.username,\r\n    token: state.auth.token\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n","import React from \"react\";\nimport { Form, Button, Select } from \"antd\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport * as navActions from \"../store/actions/nav\";\nimport * as messageActions from \"../store/actions/message\";\nimport { HOST_URL } from \"../settings\";\n\nconst FormItem = Form.Item;\n\nfunction hasErrors(fieldsError) {\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\nclass HorizontalAddChatForm extends React.Component {\n  state = {\n    usernames: [],\n    error: null\n  };\n\n  handleChange = value => {\n    this.setState({\n      usernames: value\n    });\n  };\n\n  componentDidMount() {\n    this.props.form.validateFields();\n  }\n\n  handleSubmit = e => {\n    const { usernames } = this.state;\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        const combined = [...usernames, this.props.username];\n        axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n        axios.defaults.xsrfCookieName = \"csrftoken\";\n        axios.defaults.headers = {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${this.props.token}`\n        };\n        axios\n          .post(`${HOST_URL}/chat/create/`, {\n            messages: [],\n            participants: combined\n          })\n          .then(res => {\n            this.props.history.push(`/${res.data.id}`);\n            this.props.closeAddChatPopup();\n            this.props.getUserChats(this.props.username, this.props.token);\n          })\n          .catch(err => {\n            console.error(err);\n            this.setState({\n              error: err\n            });\n          });\n      }\n    });\n  };\n\n  render() {\n    const {\n      getFieldDecorator,\n      getFieldsError,\n      getFieldError,\n      isFieldTouched\n    } = this.props.form;\n\n    const userNameError =\n      isFieldTouched(\"userName\") && getFieldError(\"userName\");\n    return (\n      <Form layout=\"inline\" onSubmit={this.handleSubmit}>\n        {this.state.error ? `${this.state.error}` : null}\n        <FormItem\n          validateStatus={userNameError ? \"error\" : \"\"}\n          help={userNameError || \"\"}\n        >\n          {getFieldDecorator(\"userName\", {\n            rules: [\n              {\n                required: true,\n                message:\n                  \"Please input the username of the person you want to chat with\"\n              }\n            ]\n          })(\n            <Select\n              mode=\"tags\"\n              style={{ width: \"100%\" }}\n              placeholder=\"Tags Mode\"\n              onChange={this.handleChange}\n            >\n              {[]}\n            </Select>\n          )}\n        </FormItem>\n        <FormItem>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            disabled={hasErrors(getFieldsError())}\n          >\n            Start a chat\n          </Button>\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\nconst AddChatForm = Form.create()(HorizontalAddChatForm);\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    username: state.auth.username\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\n    getUserChats: (username, token) =>\n      dispatch(messageActions.getUserChats(username, token))\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(AddChatForm)\n);\n","import React from \"react\";\nimport { Modal } from \"antd\";\nimport Form from \"./Form\";\n\nclass AddChatModal extends React.Component {\n  render() {\n    return (\n      <Modal\n        centered\n        footer={null}\n        visible={this.props.isVisible}\n        onCancel={this.props.close}\n      >\n        <Form />\n      </Modal>\n    );\n  }\n}\n\nexport default AddChatModal;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport BaseRouter from \"./routes\";\nimport Sidepanel from \"./containers/Sidepanel\";\nimport Profile from \"./containers/Profile\";\nimport AddChatModal from \"./containers/Popup\";\nimport * as actions from \"./store/actions/auth\";\nimport * as navActions from \"./store/actions/nav\";\nimport * as messageActions from \"./store/actions/message\";\nimport WebSocketInstance from \"./websocket\";\nimport \"./assets/style.css\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.onTryAutoSignup();\n  }\n\n  constructor(props) {\n    super(props);\n    WebSocketInstance.addCallbacks(\n      this.props.setMessages.bind(this),\n      this.props.addMessage.bind(this)\n    );\n  }\n\n  render() {\n    return (\n      <Router>\n        <div id=\"frame\">\n          <Sidepanel />\n          <div className=\"content\">\n            <AddChatModal\n              isVisible={this.props.showAddChatPopup}\n              close={() => this.props.closeAddChatPopup()}\n            />\n            <Profile />\n            <BaseRouter />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    showAddChatPopup: state.nav.showAddChatPopup,\n    authenticated: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n    closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\n    addMessage: message => dispatch(messageActions.addMessage(message)),\n    setMessages: messages => dispatch(messageActions.setMessages(messages))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport \"antd/dist/antd.css\";\nimport authReducer from \"./store/reducers/auth\";\nimport navReducer from \"./store/reducers/nav\";\nimport messageReducer from \"./store/reducers/message\";\nimport App from \"./App\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nfunction configureStore() {\n  const rootReducer = combineReducers({\n    auth: authReducer,\n    nav: navReducer,\n    message: messageReducer\n  });\n\n  const store = createStore(\n    rootReducer,\n    composeEnhancers(applyMiddleware(thunk))\n  );\n\n  //   if (module.hot) {\n  //     module.hot.accept(\"./store/reducers\", () => {\n  //       const nextRootReducer = require(\"./store/reducers/auth\");\n  //       store.replaceReducer(nextRootReducer);\n  //     });\n  //   }\n\n  return store;\n}\n\nconst store = configureStore();\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"app\"));\n"],"sourceRoot":""}